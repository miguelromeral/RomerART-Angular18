<app-layout>
  <div *ngIf="drawing" class="flex flex-col flex-nowrap gap-2">
    <!-- TODO: a√±adir bot√≥n de admin para editarlo -->

    <div
      class="border-b text-2xl italic"
      [ngClass]="
        drawing.favorite
          ? 'border-b-gold-500 text-gold-500'
          : 'border-b-main-400 text-main-500'
      ">
      <h1 class="mr-image-page-title">{{ drawing.title }}</h1>
    </div>

    <app-art-details-title
      [character]="drawing.name"
      [modelName]="drawing.modelName">
    </app-art-details-title>

    <div class="row"></div>

    <!-- TODO: imagen y formulario para votar -->

    <app-art-details-image [drawing]="drawing"></app-art-details-image>

    <app-art-details-score-board [drawing]="drawing">
    </app-art-details-score-board>

    <div class="mr-social-container">
      <app-spotify-track [trackId]="drawing.spotifyTrackId"></app-spotify-track>
    </div>

    <app-art-details-comment-wrapper [comments]="drawing.listComments">
    </app-art-details-comment-wrapper>

    <app-art-details-comment-wrapper
      [comments]="drawing.listCommentPros"
      [type]="'like'">
    </app-art-details-comment-wrapper>

    <app-art-details-comment-wrapper
      [comments]="drawing.listCommentCons"
      [type]="'dislike'">
    </app-art-details-comment-wrapper>

    <h4>Detalles</h4>

    <app-details-section
      [title]="'üìÖ Fecha'"
      [rawText]="drawing.date !== '' ? drawing.formattedDate : 'No Date Known'">
    </app-details-section>

    <app-details-section
      [title]="'üïì Tiempo (estimado)'"
      [rawText]="drawing.timeHuman">
    </app-details-section>

    <app-details-section [title]="'üñå Estilo'" [rawText]="drawing.typeName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.software > 0"
      [title]="'üíª Software'"
      [rawText]="drawing.softwareName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.paper > 0"
      [title]="'üìÑ Tama√±o de Papel'"
      [rawText]="drawing.paperHuman">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.productType > 0 && drawing.productName !== ''"
      [title]="getProductTitle()"
      [rawText]="drawing.productName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.modelName !== ''"
      [title]="'üë§ Modelo'"
      [rawText]="drawing.modelName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.referenceUrl !== ''"
      [title]="'üñº Referencia'">
      <a [href]="drawing.referenceUrl" target="_blank"
        >Abrir en nueva pesta√±a</a
      >
    </app-details-section>

    <app-details-section
      *ngIf="drawing.tags.length > 0"
      [title]="'üè∑ Etiquetas'"
      [tags]="true"
      [capitalize]="true"
      [listTags]="drawing.tags">
    </app-details-section>
  </div>

  <div *ngIf="drawingNotFound">Drawing Not Found</div>
</app-layout>
