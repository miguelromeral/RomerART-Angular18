<app-layout>
  <div
    *ngIf="drawing"
    class="flex flex-col flex-nowrap gap-2 sm:grid sm:grid-cols-2 lg:grid-cols-3">
    <!-- TODO: a√±adir bot√≥n de admin para editarlo -->

    <div class="sm:col-span-2 lg:col-span-3">
      <div
        class="border-b text-2xl italic"
        [ngClass]="
          drawing.favorite
            ? 'border-b-gold-500 text-gold-500'
            : 'border-b-main-400 text-main-400'
        ">
        <h1 class="mr-image-page-title">{{ drawing.title }}</h1>
      </div>

      <app-art-details-title
        [character]="drawing.name"
        [modelName]="drawing.modelName">
      </app-art-details-title>
    </div>

    <app-art-details-image [drawing]="drawing"></app-art-details-image>

    <div class="flex flex-col gap-2">
      <!-- TODO: volver a habilitar esta parte-->
      <!-- <app-art-details-score-board [drawing]="drawing">
      </app-art-details-score-board> -->

      <div class="mr-social-container">
        <app-spotify-track
          [trackId]="drawing.spotifyTrackId"></app-spotify-track>
      </div>

      <app-art-details-comment-wrapper [comments]="drawing.listComments">
      </app-art-details-comment-wrapper>
    </div>

    <div
      class="flex flex-col gap-2 sm:col-span-2 sm:flex-row lg:col-span-1 lg:flex-col">
      <app-art-details-comment-wrapper
        [comments]="drawing.listCommentPros"
        [type]="'like'">
      </app-art-details-comment-wrapper>

      <app-art-details-comment-wrapper
        [comments]="drawing.listCommentCons"
        [type]="'dislike'">
      </app-art-details-comment-wrapper>
    </div>

    <app-details-section
      [title]="'üìÖ Fecha'"
      [rawText]="drawing.date !== '' ? drawing.formattedDate : 'No Date Known'">
    </app-details-section>

    <app-details-section
      [title]="'üïì Tiempo (estimado)'"
      [rawText]="drawing.timeHuman">
    </app-details-section>

    <app-details-section [title]="'üñå Estilo'" [rawText]="drawing.typeName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.software > 0"
      [title]="'üíª Software'"
      [rawText]="drawing.softwareName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.paper > 0"
      [title]="'üìÑ Tama√±o de Papel'"
      [rawText]="drawing.paperHuman">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.productType > 0 && drawing.productName !== ''"
      [title]="getProductTitle()"
      [rawText]="drawing.productName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.modelName !== ''"
      [title]="'üë§ Modelo'"
      [rawText]="drawing.modelName">
    </app-details-section>

    <app-details-section
      *ngIf="drawing.referenceUrl !== ''"
      [title]="'üñº Referencia'">
      <a [href]="drawing.referenceUrl" target="_blank"
        >Abrir en nueva pesta√±a</a
      >
    </app-details-section>

    <app-details-section
      class="sm:col-span-2"
      *ngIf="drawing.tags.length > 0"
      [title]="'üè∑ Etiquetas'"
      [tags]="true"
      [capitalize]="true"
      [listTags]="drawing.tags">
    </app-details-section>
  </div>

  <div *ngIf="drawingNotFound">Drawing Not Found</div>
</app-layout>
