<div class="container">
  <div>
    <h1>üé® Galer√≠a</h1>
    <p>
      Aqu√≠ est√°n algunos de mis dibujos e ilustraciones p√∫blicas.
      <strong>Pulsa en cualquiera de ellos para ver los detalles</strong>.
    </p>
  </div>

  <form
    id="formFilter"
    asp-action="Filter"
    asp-controller="Art"
    data-ajax="true"
    data-ajax-method="POST"
    data-ajax-begin="onBeginFilter"
    data-ajax-failure="onFailureFilter"
    data-ajax-success="onSuccessFilter"
    data-ajax-complete="onCompleteFilter">
    <div class="row">
      <div class="mr-sort-filter-container" data-bs-theme="dark">
        <div class="mr-sort-filter">
          <span> Ordenar por... </span>
          <select
            id="sFilterSortBy"
            class="mr-custom-select filters form-select form-select-sm"
            name="Sortby"
            aria-label="Default select example"
            data-bs-theme="dark"
            onchange="sendFormFilterGallery()"
            data-bs-theme="dark">
            <option value="date-desc">Nuevos Primero</option>
            <option value="date-asc">Viejos Primero</option>
            <option value="name-asc">Nombre (Ascendente)</option>
            <option value="name-desc">Nombre (Descendente)</option>
            <option value="time-asc">M√°s R√°pidos</option>
            <option value="time-desc">M√°s Largos</option>
            <option value="kudos-desc" class="kudos">M√°s Kudos</option>
            <option value="kudos-asc" class="kudos">Menos Kudos</option>
            <option value="views-desc" class="views">M√°s Vistos</option>
            <option value="views-asc" class="views">Menos Vistos</option>
            <option value="scorem-desc" class="mr-score-miguel">
              Mejor Puntuaci√≥n
            </option>
            <option value="scorem-asc" class="mr-score-miguel">
              Peor Puntuaci√≥n
            </option>
            <option value="scoreu-desc" class="mr-score-popular">
              Mejor Puntuaci√≥n Popular
            </option>
            <option value="scoreu-asc" class="mr-score-popular">
              Peor Puntuaci√≥n Popular
            </option>
          </select>
        </div>
      </div>
    </div>

    <div class="row">
      <div
        id="formFilterAlert"
        class="alert alert-danger"
        style="display: none"
        role="alert"></div>

      <span class="mr-suboption-filter"> Filtrar por... </span>
      <div class="mr-filter-container">
        <button class="btn btn-dark mr-custom-btn" onclick="resetFilters()">
          <span><i id="iFavoriteIcon" class="bi bi-trash"></i></span>
        </button>

        <input
          id="tbTags"
          name="TextQuery"
          class="form-control mr-custom-text mr-filter-item"
          type="text"
          placeholder="Buscar por nombre, modelo, producto, etc."
          onchange="sendFormFilterGallery();"
          onkeydown="capturarEnter(event)" />

        <select
          id="sFilterType"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="Type"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="-1" selected>üñå ESTILO</option>
          <option *ngFor="let style of listDrawingStyles" [value]="style.id">
            {{ style.translatedText }}
          </option>
          <option value="0">(Otro Estilo)</option>
        </select>

        <select
          id="sFilterProduct"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="ProductType"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="-1" selected>üì∫ TIPO</option>

          <option
            *ngFor="let type of listDrawingProductTypes"
            [value]="type.id">
            {{ type.emoji }} {{ type.translatedText }}
          </option>
          <option value="0">(Otro Tipo)</option>
        </select>

        <select
          id="sFilterProductName"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="ProductName"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="" selected>üñº TEM√ÅTICA</option>

          <option
            *ngFor="let product of listDrawingProducts"
            [value]="product.productName">
            {{ getEmojiFromProductType(product.productTypeId) }}
            {{ product.productName }}
          </option>

          <option value="none">(Ninguna Tem√°tica)</option>
        </select>

        <!-- TODO: incluir colecciones -->

        <select
          id="sFilterCharacterName"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="CharacterName"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="" selected>üò∫ PERSONAJE</option>

          <option
            *ngFor="let character of listDrawingCharacters"
            [value]="character.characterName">
            {{ getEmojiFromProductType(character.productTypeId) }}
            {{ character.characterName }}
          </option>

          <option value="none">(Ning√∫n Personaje)</option>
        </select>

        <select
          id="sFilterModel"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="ModelName"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="" selected>üë© MODELO</option>

          <option *ngFor="let model of listDrawingModels" [value]="model">
            {{ model }}
          </option>

          <option value="none">(Ning√∫n Modelo)</option>
        </select>

        <select
          id="sFilterSoftware"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="Software"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="0" selected>üíª SOFTWARE</option>

          <option *ngFor="let sw of listDrawingSoftwares" [value]="sw.id">
            {{ sw.name }}
          </option>
        </select>

        <select
          id="sFilterPaper"
          class="mr-custom-select form-select form-select-sm mr-filter-item"
          name="Paper"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="0" selected>üìÑ TAMA√ëO</option>

          <option *ngFor="let paper of listDrawingPapers" [value]="paper.id">
            {{ paper.name }}
          </option>
        </select>

        <select
          id="sFilterSpotify"
          class="mr-custom-select form-select form-select-sm mr-filter-item mr-spotify"
          name="Spotify"
          data-bs-theme="dark"
          onchange="sendFormFilterGallery()">
          <option value="null" selected>üéµ M√öSICA</option>
          <option value="true">Pista de Spotify Sugerida</option>
          <option value="false">Sin pista sugerida</option>
        </select>

        <div class="mr-choice-filter mr-filter-item">
          <label
            class="form-check-label choice-label"
            for="flexSwitchCheckChecked"
            style="font-weight: bold"
            >‚≠ê FAVORITOS</label
          >
          <input
            class="form-check-input"
            name="Favorites"
            type="checkbox"
            role="switch"
            value="true"
            id="flexSwitchCheckChecked"
            onchange="sendFormFilterGallery()" />
        </div>
      </div>
    </div>
  </form>
  <div class="row mt-2" style="padding-bottom: 20px">
    <div class="mr-loader-container">
      <div id="divImageCounter" class="slide-right">
        <span class="mr-suboption-filter">
          <span id="spResultsCount">{{ listDrawings.length }}</span>
          <span id="spTextoImagenes">im√°genes</span
          ><span id="spTextoImagen" style="display: none">imagen</span>
        </span>
      </div>
      <div id="artGalleryLoader" class="mr-loader">
        <img
          alt="Loading"
          src="~/assets/bean eater-0.3s-200px.svg"
          class="mr-loading-icon-pacman" />
        <span class="mr-loader-subtitle"
          >Filtrando im√°genes. Por favor, espere.</span
        >
      </div>
      <div id="artGallery" class="mr-img-gallery">
        <app-drawing-thumbnail
          [drawing]="drawing"
          *ngFor="let drawing of listDrawings">
        </app-drawing-thumbnail>
      </div>
      <!-- TODO: resolver porqu√© no se esconde esto -->
      <div id="divNoResults" [ngClass]="{ hidden: listDrawings.length === 0 }">
        <span> ¬°Nada por aqu√≠..! </span>
        <h2>üòî</h2>
        <span> Vuelve a intentarlo utilizando otros filtros. </span>
      </div>
    </div>
  </div>
</div>
